<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEVEL 4 - THE POOLROOMS</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&display=swap');
        
        body {
            background: linear-gradient(to bottom, #001a33, #000a1a);
            color: #00ccff;
            font-family: 'IBM Plex Mono', monospace;
            padding: 20px;
            margin: 0;
            min-height: 100vh;
        }
        
        .pool-container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(0, 10, 26, 0.95);
            border: 3px solid #00ccff;
            padding: 40px;
            box-shadow: 0 0 50px rgba(0, 204, 255, 0.3),
                        inset 0 0 50px rgba(0, 204, 255, 0.05);
        }
        
        h1 {
            text-align: center;
            font-size: 2.8em;
            text-shadow: 0 0 20px #00ccff;
            color: #00ccff;
            margin-bottom: 30px;
        }
        
        .water-effect {
            text-align: center;
            color: #0088cc;
            font-size: 14px;
            margin: 20px 0;
            animation: wave 4s infinite;
        }
        
        @keyframes wave {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        .message-box {
            background: #001a33;
            border-left: 5px solid #00ccff;
            padding: 25px;
            margin: 25px 0;
        }
        
        .timestamp {
            color: #006699;
            font-size: 13px;
        }
        
        .warning {
            background: #1a0033;
            border: 2px solid #ff00ff;
            padding: 20px;
            margin: 25px 0;
            color: #ff00ff;
        }
        
        .cipher-box {
            background: #000;
            border: 2px solid #00ccff;
            padding: 25px;
            margin: 25px 0;
            font-family: monospace;
            overflow-x: auto;
        }
        
        .qr-section {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 30px 0;
        }
        
        .qr-item {
            background: #001a33;
            border: 2px solid #00ccff;
            padding: 20px;
            text-align: center;
            cursor: pointer;
        }
        
        .qr-item:hover {
            background: #002a43;
            box-shadow: 0 0 20px rgba(0, 204, 255, 0.5);
        }
        
        .ripple {
            animation: ripple 3s infinite;
        }
        
        @keyframes ripple {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        code {
            background: #000;
            color: #00ff00;
            padding: 3px 8px;
            border: 1px solid #00ccff;
        }
    </style>
</head>
<body>
    <div class="pool-container">
        <h1>ã€œ LEVEL 4 - THE POOLROOMS ã€œ</h1>
        
        <div class="water-effect">
            ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½<br>
            ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ WATER LEVEL: RISING ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½<br>
            ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½
        </div>
        
        <div class="message-box">
            <p class="timestamp">[TIMESTAMP: 2024-01-15 22:17:08 UTC]</p>
            <p class="timestamp">[LOCATION: LEVEL 4 - POOLROOMS COMPLEX]</p>
            <p class="timestamp">[WATER DEPTH: 0.43m and rising]</p>
            <p class="timestamp">[HUMIDITY: 98%]</p>
        </div>
        
        <hr style="border-color: #00ccff;">
        
        <p>De l'eau. Partout.</p>
        
        <p>Des piscines Ã  perte de vue. Certaines sont vides, d'autres remplies d'une eau d'un bleu luminescent 
        inquiÃ©tant. Le carrelage est glissant, humide. L'Ã©cho de mes pas rÃ©sonne Ã  l'infini.</p>
        
        <p>L'eau monte. Lentement mais sÃ»rement. Elle Ã©tait Ã  mes chevilles il y a dix minutes.
        Maintenant elle arrive presque Ã  mes genoux.</p>
        
        <p>Je dois me dÃ©pÃªcher.</p>
        
        <div class="message-box">
            <p><strong>DÃ‰COUVERTE MAJEURE - 22:34 UTC</strong></p>
            <p>J'ai trouvÃ© un panneau de contrÃ´le prÃ¨s d'une piscine. Ã‰cran tactile encore fonctionnel.
            Il affiche un message cryptÃ© et quatre QR codes.</p>
            
            <p style="margin: 15px 0;">Le message sur l'Ã©cran :</p>
        </div>
        
        <div class="cipher-box">
            <p style="color: #ff00ff; font-size: 18px; text-align: center; margin-bottom: 20px;">
                â‰‹â‰‹â‰‹ MESSAGE CRYPTÃ‰ - VIGENÃˆRE CIPHER â‰‹â‰‹â‰‹
            </p>
            <p style="color: #00ff00; word-wrap: break-word;">
Vqx bpv qntxkm kip xqogv, vqx uikg oiaw vqx twvq.
Vqx dxb la qlaaxk ak vqx jvxkp: "POOLWATER"
Axhqabq vqx hlasx, oakx vqx wrpp.

Xkhtbbvxa uxllrjx:
ZZWGM SFNGE VQJMZ MGLQQ HZAKR QSFRZ JZMFJ

Axhqabq vqal rla Valxkxtx hlasx.
Vqx rklwxt la vqx krux po vqx oaozq pxixp.
            </p>
            <p style="color: #ffff00; margin-top: 20px; font-size: 14px;">
                INDICE: VigenÃ¨re dÃ©chiffrement avec clÃ© "POOLWATER"<br>
                Utilisez CyberChef ou un script Python
            </p>
        </div>
        
        <div class="warning">
            <p><strong>âš  Ã‰NIGME DU VIGENÃˆRE âš </strong></p>
            <p>DÃ©chiffre le message avec la clÃ© <code>POOLWATER</code></p>
            <p>Le message dÃ©chiffrÃ© te donnera le nom du cinquiÃ¨me level.</p>
            <p style="font-size: 13px; margin-top: 10px;">
                (Aide: le texte en clair commence par "You can escape the water...")
            </p>
        </div>
        
        <div class="message-box">
            <p><strong>LES QUATRE QR CODES</strong></p>
            <p>Sur l'Ã©cran, quatre QR codes sont affichÃ©s. Trois sont des faux (piÃ¨ges).
            Un seul est le bon.</p>
            <p style="margin: 15px 0;">
                Dans un vrai CTF, vous gÃ©nÃ©reriez 4 QR codes :<br>
                ğŸ”´ QR Code 1 â†’ Rickroll ou meme<br>
                ğŸ”´ QR Code 2 â†’ Faux message "Wrong path"<br>
                ğŸ”´ QR Code 3 â†’ Image random sans info<br>
                ğŸŸ¢ QR Code 4 â†’ CoordonnÃ©es GPS ou lien vers level 5
            </p>
        </div>
        
        <div class="qr-section">
            <div class="qr-item">
                <p style="font-size: 80px; margin: 20px 0;">â–ˆâ–€â–ˆ</p>
                <p><strong>QR CODE A</strong></p>
                <p style="font-size: 12px; color: #006699;">
                    "Emergency Exit â†’"
                </p>
            </div>
            <div class="qr-item">
                <p style="font-size: 80px; margin: 20px 0;">â–€â–ˆâ–€</p>
                <p><strong>QR CODE B</strong></p>
                <p style="font-size: 12px; color: #006699;">
                    "Drainage System"
                </p>
            </div>
            <div class="qr-item">
                <p style="font-size: 80px; margin: 20px 0;">â–ˆâ–„â–ˆ</p>
                <p><strong>QR CODE C</strong></p>
                <p style="font-size: 12px; color: #006699;">
                    "Pool Control â–¼"
                </p>
            </div>
            <div class="qr-item ripple">
                <p style="font-size: 80px; margin: 20px 0;">â–„â–ˆâ–„</p>
                <p><strong>QR CODE D</strong></p>
                <p style="font-size: 12px; color: #00ff00;">
                    "The TRUE Exit"
                </p>
            </div>
        </div>
        
        <div class="message-box">
            <p><strong>INDICE QR CODES</strong></p>
            <p>Le bon QR code (D) contient des coordonnÃ©es GPS mystÃ©rieuses :<br>
            <code>-0.2297Â° S, -78.5249Â° W</code></p>
            
            <p style="margin-top: 15px;">Ces coordonnÃ©es pointent vers un endroit en Ã‰quateur.</p>
            <p>Va sur Google Maps. Regarde ce qu'il y a Ã  cet endroit.</p>
            <p>Il y a un monument, un bÃ¢timent, quelque chose d'important.</p>
            <p>Le NOM de ce lieu = indice pour le Level 5.</p>
        </div>
        
        <hr style="border-color: #00ccff; margin: 40px 0;">
        
        <div class="message-box">
            <p><strong>STÃ‰GANOGRAPHIE - IMAGE CACHÃ‰E</strong></p>
            <p>Dans le dossier level4/, il y a une image : <code>poolroom_reflection.jpg</code></p>
            <p>Cette image contient des donnÃ©es cachÃ©es (steghide).</p>
            <p style="margin: 15px 0; padding: 15px; background: #000; border: 1px solid #00ccff;">
                <code>steghide extract -sf poolroom_reflection.jpg</code><br>
                <span style="font-size: 12px;">Mot de passe: VIGENERE</span>
            </p>
            <p>Le fichier extrait contient l'URL du Level 5 ou un code final.</p>
        </div>
        
        <div class="warning">
            <p style="text-align: center; font-size: 20px; margin-bottom: 15px;">
                ğŸ” RÃ‰SOLUTION COMPLÃˆTE DU LEVEL 4
            </p>
            <p>Pour accÃ©der au Level 5, tu dois :</p>
            <ol style="margin: 15px 0 15px 25px;">
                <li>âœ“ DÃ©chiffrer le message VigenÃ¨re (clÃ©: POOLWATER)</li>
                <li>âœ“ Identifier le bon QR code (D)</li>
                <li>âœ“ Trouver le lieu aux coordonnÃ©es GPS</li>
                <li>âœ“ Extraire les donnÃ©es de l'image avec steghide</li>
            </ol>
            <p style="margin-top: 20px;">
                Fichier suivant : <code>level5_final_exit.html</code>
            </p>
        </div>
        
        <div class="message-box">
            <p class="timestamp">[TIMESTAMP: 2024-01-15 23:08:41 UTC]</p>
            <p style="color: #ff0000;">L'eau monte rapidement maintenant.</p>
            <p style="color: #ff0000;">Elle arrive Ã  ma taille.</p>
            <p style="color: #ff0000;">Je vois une porte au loin. Elle brille d'une lumiÃ¨re Ã©trange.</p>
            <p style="color: #ff0000;">C'est peut-Ãªtre la sortie finale.</p>
            <p style="color: #ff0000;">Je dois nager maintenant.</p>
        </div>
        
        <p style="text-align: center; font-size: 32px; margin-top: 50px; color: #00ccff;" class="ripple">
            â‰‹â‰‹â‰‹ DECRYPT THE CIPHER â‰‹â‰‹â‰‹<br>
            â‰‹â‰‹â‰‹ SCAN THE QR CODES â‰‹â‰‹â‰‹<br>
            â‰‹â‰‹â‰‹ ESCAPE THE WATER â‰‹â‰‹â‰‹
        </p>
    </div>
    
    <!--
    SOLUTIONS POUR LE DÃ‰VELOPPEMENT :
    
    1. MESSAGE VIGENÃˆRE :
       Texte chiffrÃ© : "Vqx bpv qntxkm kip xqogv..."
       ClÃ© : POOLWATER
       Texte dÃ©chiffrÃ© : "You can escape the water, you must find the path.
                          The key is hidden in the steam: POOLWATER
                          Decipher the clues, open the door.
                          
                          Encrypted message:
                          LEVEL FIFTH OPENS THROUGH FINAL WATERS AGAIN
                          
                          Decipher this via Vigenere cipher.
                          The answer is the name of the fifth level."
    
    2. QR CODE D :
       CoordonnÃ©es : -0.2297Â° S, -78.5249Â° W
       = Mitad del Mundo (Monument de l'Ã©quateur), Ã‰quateur
       = "Middle of the World" / "Center of Earth"
    
    3. IMAGE STÃ‰GANOGRAPHIE :
       CrÃ©er poolroom_reflection.jpg avec :
       steghide embed -cf poolroom_reflection.jpg -ef secret.txt -p VIGENERE
       
       secret.txt contient :
       "The final level awaits.
        Access: level5_final_exit.html
        Password: ESCAPE2024"
    
    4. FICHIER SUIVANT :
       level5_final_exit.html
    -->
</body>
</html>
